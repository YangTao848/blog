"use strict";!function(t){var e=function(e){var i=this;this.poster=e,this.posterItemMain=this.poster.find(".poster-list"),this.nextBtn=this.poster.find(".poster-next-btn"),this.prevBtn=this.poster.find(".poster-pre-btn"),this.posterItems=this.posterItemMain.find(".poster-item"),this.posterItems.length%2==0&&(this.posterItemMain.append(this.posterItems.eq(0).clone()),this.posterItems=this.posterItemMain.children()),this.zIndex=this.posterItems.length/2,this.posterFirstItem=this.posterItems.first(),this.posterLastItem=this.posterItems.last(),this.rotateFlag=!0,this.setting={width:1e3,height:270,posterWidth:640,posterHeight:270,scale:.9,speed:500,delay:1500,autoPlay:!1,verticalAlign:"middle"},t.extend(this.setting,this.getSetting()),console.log(this.setting),this.setSettingValue(),this.setPosterPos(),this.nextBtn.click(function(){i.rotateFlag&&(i.rotateFlag=!1,i.carouselRotate("left"))}),this.prevBtn.click(function(){i.rotateFlag&&(i.rotateFlag=!1,i.carouselRotate("right"))}),this.setting.autoPlay&&(this.autoPlay(),this.poster.hover(function(){window.clearInterval(i.timer)},function(){i.autoPlay()}))};e.prototype={autoPlay:function(){var t=this;this.timer=window.setInterval(function(){t.nextBtn.click()},t.setting.delay)},carouselRotate:function(e){var i=this,s=[];this.posterItems.each(function(){var h,n=t(this),o=(h="left"===e?n.prev().get(0)?n.prev():i.posterLastItem:n.next().get(0)?n.next():i.posterFirstItem).width(),r=h.height(),a=h.css("zIndex"),g=h.css("opacity"),c=h.css("top"),l={width:o,height:r,zIndex:a,opacity:g,left:h.css("left"),top:c};s.push(l)}),this.posterItems.each(function(e){t(this).animate({width:s[e].width,height:s[e].height,zIndex:s[e].zIndex,opacity:s[e].opacity,left:s[e].left,top:s[e].top},i.setting.speed,function(){i.rotateFlag=!0})})},getSetting:function(){var t=this.poster.data("setting");return t&&""!==t?t:{}},setSettingValue:function(){this.poster.css({width:this.setting.width,height:this.setting.height}),this.posterItemMain.css({width:this.setting.width,height:this.setting.height});var t=(this.setting.width-this.setting.posterWidth)/2;this.prevBtn.css({width:t,height:this.setting.height,zIndex:Math.ceil(this.zIndex)}),this.nextBtn.css({width:t,height:this.setting.height,zIndex:Math.ceil(this.zIndex)}),this.posterFirstItem.css({left:t,width:this.setting.posterWidth,height:this.setting.posterHeight,zIndex:Math.floor(this.zIndex)})},setPosterPos:function(){var e=this,i=this.posterItems.slice(1),s=i.length/2,h=i.slice(0,s),n=i.slice(s),o=this.setting.scale,r=Math.floor(s),a=this.setting.posterWidth,g=this.setting.posterHeight,c=(this.setting.width-this.setting.posterWidth)/(2*r),l=(this.setting.width-this.setting.posterWidth)/2+a;h.each(function(i){r--,a*=o,g*=o;var s=i;t(this).css({zIndex:r,width:a,height:g,opacity:1/++i,left:l+ ++s*c-a,top:e.setVertualAlign(g)})});var p=h.last().width(),d=h.last().height(),u=Math.floor(s);n.each(function(i){t(this).css({zIndex:i,width:p,height:d,opacity:1/u,left:i*c,top:e.setVertualAlign(d)}),p/=o,d/=o,u--})},setVertualAlign:function(t){var e=0;switch(this.setting.verticalAlign){case"top":e=0;break;case"middle":e=(this.setting.height-t)/2;break;case"bottom":e=this.setting.height-t;break;default:e=(this.setting.height-t)/2}return e}},e.init=function(e){var i=this;e.each(function(e,s){new i(t(this))})},t.extend({carousel:function(t){e.init(t)}})}(jQuery);
//# sourceMappingURL=carousel-3ac538df61.js.map
