!function(t){var e,i;e=function(e,i,n,o){var r=function t(i,n,o){function r(a,h){if(!n[a]){if(!i[a]){var u="function"==typeof e&&e;if(!h&&u)return u(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};i[a][0].call(c.exports,function(t){var e=i[a][1][t];return r(e||t)},c,c.exports,t,i,n,o)}return n[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=t("./random.js"),s=(n=r)&&n.__esModule?n:{default:n};var a=function(){function t(e,i,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=o&&""!==o?o:(0,s.default)(.05*i,.1*i),this.y=r&&""!==r?r:(0,s.default)(.15*n,.2*n),this.vx=(0,s.default)(1,3),this.pictureHeight=(0,s.default)(.08*n,.09*n),this.pictureWidth=(0,s.default)(.15*i,.16*i),this.context=e,this.w=i,this.h=n}return o(t,[{key:"init",value:function(){this.x=(0,s.default)(.05*this.w,.1*this.w),this.y=(0,s.default)(.15*this.h,.2*this.h),this.vx=(0,s.default)(1,3),this.vx=(0,s.default)(1,3),this.pictureHeight=(0,s.default)(.08*this.h,.09*this.h),this.pictureWidth=(0,s.default)(.15*this.w,.16*this.w)}},{key:"draw",value:function(t){var e=t.width,i=t.height,n=1,o=e/(n=i>e?i/this.pictureHeight:e/this.pictureWidth),r=i/n;this.context.drawImage(t,this.x,this.y,o,r),this.context.fillStyle="#000"}},{key:"move",value:function(){this.x>=this.w?this.init():this.x+=this.vx}}]),t}();i.default=a},{"./random.js":5}],2:[function(t,e,i){"use strict";t("./preloadImgs.js");var n,o=t("./rain.js"),r=t("./sunshine.js"),s=t("./cloud.js"),a=(n=s)&&n.__esModule?n:{default:n};$("html").attr("overflow-y","hidden");var h=document.getElementById("canvas1"),u=document.getElementById("canvas2"),l=["/dist/imgs/cloud1-94c5b5778a.png","/dist/imgs/cloud2-be7801404c.png","/dist/imgs/cloud3-ef79e2abf7.png","/dist/imgs/rain-83c1f9b3ae.png","/dist/imgs/sun-e7f33a3473.png","/dist/imgs/sunny_doll1-7845beb693.png","/dist/imgs/sunny_doll2-ec6839d688.png"],c=document.getElementById("picture"),d=h.getContext("2d"),f=u.getContext("2d"),g=c.getContext("2d"),w=$("main:first"),v=$("nav.head:first"),p=h.width=w.width(),y=h.height=window.innerHeight-v.height(),m=u.width=w.width(),x=u.height=window.innerHeight-v.height(),b=void 0,j=void 0;window.onresize=function(){p=h.width=w.width(),y=h.height=window.innerHeight-v.height(),m=u.width=w.width(),x=u.height=window.innerHeight-v.height(),b=c.width=Math.floor(2*p/10),j=c.height=Math.floor(4*y/10)};var _=returnCitySN.cip;function I(){$("#text").hide(),$("#picture").css({top:"10px",left:"10%"}),b=c.width=Math.floor(p/10),j=c.height=Math.floor(p/10),g.fillStyle="rgba(255, 255, 255, 0)",g.fillRect(0,0,b,j);var t=new r.Sun(g,b,j),e=new Image;e.src="/dist/imgs/sun-e7f33a3473.png",t.draw(e),setInterval(function(){t.rotate(),t.draw(e)},500);var i=new r.SunnyDoll(d,p,y),n=new Image,o=new Image;o.src="/dist/imgs/sunny_doll2-ec6839d688.png",n.src="/dist/imgs/sunny_doll1-7845beb693.png",i.draw(n);var s=1;setInterval(function(){i.move(),s%2==1?i.draw(o):i.draw(n),200===++s&&(s=0)},1e3/6)}function M(){var t=new a.default(f,m,x,.1*m,m/35),e=new a.default(f,m,x),i=new a.default(f,m,x),n=new Image,o=new Image,r=new Image;t.draw(n),e.draw(o),i.draw(r),n.src="/dist/imgs/cloud1-94c5b5778a.png",o.src="/dist/imgs/cloud2-be7801404c.png",r.src="/dist/imgs/cloud3-ef79e2abf7.png",setInterval(function(){f.clearRect(0,0,m,x),e.move(),i.move(),t.draw(n),e.draw(o),i.draw(r)},1e3/60)}console.log("ip : "+_),$.ajax({url:"/weather/?ip="+_,type:"GET",dataType:"json",success:function(t){if(t.err)console.log(t.err);else{console.log("weather data is:"),console.log(t);var e=t.data,i=(e.location,e.weather);e.temperature;$.preload(l,{each:function(){},all:function(){-1!==i.indexOf("晴")?(console.log("晴"),I()):-1!==i.indexOf("云")?(console.log("多云"),I(),M()):-1!==i.indexOf("阴")?(console.log("阴"),M()):-1!==i.indexOf("雨")?(console.log("雨"),function(){$("#text").show(),$("#picture").css({top:"60%",left:"80%"}),b=c.width=Math.floor(2*p/10),j=c.height=Math.floor(4*y/10),g.fillStyle="rgba(255, 255, 255, 0)",g.fillRect(0,0,b,j);var t=[],e=new Image;e.src="../dist/imgs/rain-83c1f9b3ae.png";for(var i=0;i<1e3;i++)setTimeout(function(){var e=new o.Drop(d,p,y);t.push(e)},1e3/60*i);new o.Umbrella(g,b,j).draw(e),setInterval(function(){d.clearRect(0,0,p,y);for(var e=0;e<t.length;e++)t[e].draw()},1e3/60)}()):console.log("未知")}})}},err:function(t){console.log("Get weather is error,because "+t)}})},{"./cloud.js":1,"./preloadImgs.js":3,"./rain.js":4,"./sunshine.js":6}],3:[function(t,e,i){"use strict";!function(t){function e(i,n){this.imgs=i instanceof Array?i:[i],this.length=i.length,n&&""!==n&&(this.opts=t.extend({},e.DEFAULTS,n))}e.DEFAULTS={order:"unordered",each:null,all:null},e.prototype._unordered=function(){var e=this.imgs,i=this.length,n=this,o=0;t(e).each(function(e,r){var s=new Image;"string"==typeof r&&(t(s).on("load err",function(){if(n.opts.each&&n.opts.each(o),o>=i-1)return n.opts.all&&n.opts.all();o++}),s.src=r)})},e.prototype._ordered=function(){var e=this.imgs,i=this.length,n=this,o=0;!function r(){console.log("load");var s=new Image;t(s).on("load err",function(){if(o>=i-1)return n.opts.all&&n.opts.all();n.opts.each&&n.opts.each(o),o++,r()});s.src=e[o]}()},t.extend({preload:function(t,i){var n=new e(t,i);"ordered"===n.opts.order?n._ordered():n._unordered()}})}(jQuery)},{}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Drop=i.Umbrella=void 0;var n,o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=t("./random.js"),s=(n=r)&&n.__esModule?n:{default:n};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(e,i,n){a(this,t),this.x=(0,s.default)(0,.05*i),this.y=(0,s.default)(0,.05*n),this.context=e,this.w=i,this.h=n}return o(t,[{key:"draw",value:function(t){var e=t.width,i=t.height;console.log(e+" "+i);var n=1,o=e/(n=i>e?i/this.h:e/this.w),r=i/n;this.context.drawImage(t,this.x,this.y,o,r)}}]),t}(),u=function(){function t(e,i,n){a(this,t),this.x=(0,s.default)(0,i),this.y=0,this.w=i,this.h=n,this.vy=(0,s.default)(10,11),this.l=(0,s.default)(.95*this.h,.99*this.h),this.r=(0,s.default)(1,2),this.vr=1,this.a=.5,this.va=.8,this.context=e}return o(t,[{key:"init",value:function(){this.x=(0,s.default)(0,this.w),this.y=0,this.vy=(0,s.default)(10,11),this.l=(0,s.default)(.95*this.h,.99*this.h),this.r=(0,s.default)(1,2),this.vr=1,this.a=.5,this.va=.8}},{key:"draw",value:function(){this.y<this.l?(this.context.fillStyle="rgba(0,0,0,0.5)",this.context.fillRect(this.x,this.y,2,10)):(this.a>.03?(this.r+=this.vr,this.r>5&&(this.a*=this.va)):this.init(),this.context.strokeStyle="rgba(0,0,0,+"+this.a+")",this.context.beginPath(),this.context.arc(this.x,this.y,this.r,0,Math.PI,!0),this.context.stroke()),this.update()}},{key:"update",value:function(){this.y<this.l&&(this.y+=this.vy)}}]),t}();i.Umbrella=h,i.Drop=u},{"./random.js":5}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){return Math.random()*(e-t)+t}},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SunnyDoll=i.Sun=void 0;var n,o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=t("./random.js"),s=(n=r)&&n.__esModule?n:{default:n};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=["It's a sunny day~","Have a good mood","A nice day is coming","Open your window to see the beautiful world","Sunshine is good of you","The sun warm, years static good."],u=function(){function t(e,i,n){a(this,t),this.w=i,this.h=n,this.context=e}return o(t,[{key:"draw",value:function(t){var e=t.width,i=t.height,n=1,o=e/(n=i>e?i/this.h:e/this.w),r=i/n;this.context.drawImage(t,0,0,o,r)}},{key:"rotate",value:function(){this.context.clearRect(0,0,this.w,this.h),this.context.translate(this.w/2,this.h/2),this.context.rotate(Math.PI/18),this.context.translate(-this.w/2,-this.h/2)}}]),t}(),l=function(){function t(e,i,n){a(this,t),this.x=(0,s.default)(.2*i,.8*i),this.y=(0,s.default)(.6*n,.6*n),this.vx=(0,s.default)(10,30),this.pictureHeight=.15*i,this.pictureWidth=.15*i,this.context=e,this.w=i,this.h=n}return o(t,[{key:"draw",value:function(t){var e=t.width,i=t.height,n=1,o=e/(n=i>e?i/this.pictureHeight:e/this.pictureWidth),r=i/n;this.context.drawImage(t,this.x,this.y,o,r),this.context.fillStyle="#000",this.context.font="30px sans-serif",this.context.fillText(h[Math.floor((0,s.default)(0,4))],this.x+o,this.y-10)}},{key:"move",value:function(){this.context.clearRect(0,0,this.w,this.h),this.x>=.8*this.w?this.vx=-this.vx:this.x<=.2*this.w&&(this.vx=-this.vx),this.x+=this.vx}}]),t}();i.Sun=u,i.SunnyDoll=l},{"./random.js":5}]},{},[2])(2);return t.FlareJ=r,r},i="function"==typeof require?require:function(t){return{nornj:nj,react:React,"react-dom":ReactDOM}[t]},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(i):"function"==typeof define&&define.amd?define(["nornj","react","react-dom"],e.bind(t,i)):e(i)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
//# sourceMappingURL=index-ca337ef8b5.js.map
