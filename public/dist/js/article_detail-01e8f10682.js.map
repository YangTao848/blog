{"version":3,"sources":["article_detail.js"],"names":["seasonImgsArray","changeSeasonTree","i","setTimeout","speed","animate","opacity","$","backgroundImage","setInterval","document","ready","window","location","search","searchUrl","console","str","substr","indexOf","strs","ajax","log","id","url","type","data","dataType","success","html","content","click","status","num","likeBtn"],"mappings":"aAGA,IAAIA,iBAAmB,mBAAmB,mBAAmB,mBAAmB,oBAuChF,SAASC,mBAAT,IAAAC,EAASD,EAELE,WAAIC,WACJD,EAAAA,gBAAWE,SAAYC,QAAA,KAAA,IAAA,WACjBC,EAAA,gBAAgBF,KACZG,gBAAoB,OAAAR,gBAAAE,GAAA,MAClBG,SAAAC,QAAA,KAAkB,QAEzB,GACJG,YAND,WAOAA,IAAAA,IACOP,EAAA,GAEFK,EAAA,gBAAAF,SAAAC,QAAA,KAAA,IAAA,WACCC,EAAA,gBAAgBF,KACZG,gBAAoB,OAAAR,kBAAAE,GAAA,MAClBG,SAAAC,QAAA,KAAkB,QAN9B,KAhDJC,EAAEG,UAAUC,MAAM,WADdX,mBACFU,IAAAA,EAAgBE,OAAAC,SAAYC,OAE1B,GADAb,QAAAA,IAAAA,eAAAA,IACgCa,IAA5BC,EAAAA,QAAYH,KAAgBE,CAChCE,IAEQC,EAFIF,EAAAG,OAAiBH,GACfI,MAAV,KACUJ,GACVC,QAAII,IAAOH,GACXV,EAAAc,MACAL,IAAQM,wBAARC,EACEF,KAAK,MACHG,SAAI,OACJC,QAAK,SAFFC,GAGHC,GACAC,EAAQ,YAAAC,KAAUH,EAAMI,YAIvBvB,EAAA,SAAAwB,MAAA,WARLxB,EAAAc,MAUEG,IAASO,qBAAkBR,EACvBF,KAAK,MACHG,SAAI,OACJC,QAAK,SAFFC,GAGHC,GAHG,IAGHA,EAASK,OAHN,CAIHJ,QAAQN,IAAAI,GACDA,IAAAA,EAAAnB,EAAA,aAAiB0B,EAAAC,EAAAL,OAChBb,EAAQM,OAAII","file":"article_detail-01e8f10682.js","sourcesContent":["/**\r\n * Created by Administrator on 2017/11/9.\r\n */\r\nlet seasonImgsArray = [\"/dist/imgs/spring-1dafa2ba62.png\",\"/dist/imgs/summer-978794d15e.png\",\"/dist/imgs/autumn-35abbdcc52.png\",\"/dist/imgs/winter-5ef517149d.png\"];\r\n$(document).ready(function () {\r\n    changeSeasonTree();\r\n    let searchUrl = window.location.search;\r\n    console.log('searchUrl = ' + searchUrl);\r\n    if (searchUrl.indexOf(\"?\") !== -1) {\r\n        let str = searchUrl.substr(1);\r\n        let strs = str.split(\"=\");\r\n        let id = strs[1];\r\n        console.log(id);\r\n        $.ajax({\r\n            url:'/article/content/?id='+id,\r\n            type:'GET',\r\n            dataType:'json',\r\n            success:function (data) {\r\n                if(data) {\r\n                    $('#article').html(data.content);\r\n                }\r\n            }\r\n        });\r\n        $('.like').click(function () {\r\n            $.ajax({\r\n                url:'/article/like/?id='+id,\r\n                type:'GET',\r\n                dataType:'json',\r\n                success:function (data) {\r\n                    if(data.status===1) {\r\n                        console.log(data);\r\n                        let likeBtn =$(\"#like_num\"),num=likeBtn.html();\r\n                        likeBtn.html(++num);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n);\r\n\r\n\r\nfunction changeSeasonTree() {\r\n    let i = 0;\r\n    let speed = 6;  /*单位s*/\r\n    setTimeout(function () {\r\n        $(\".season-tree\").animate({opacity: '0'},1000*speed/3,function () {\r\n            $(\".season-tree\").css({\r\n                \"backgroundImage\":\"url(\"+seasonImgsArray[i]+\")\"\r\n            }).animate({opacity: '1'},1000*speed/3);\r\n        });\r\n    },0);\r\n    setInterval(function () {\r\n        if(3===i) {\r\n            i=0;\r\n        }\r\n        $(\".season-tree\").animate({opacity: '0'},1000*speed/3,function () {\r\n            $(\".season-tree\").css({\r\n                \"backgroundImage\":\"url(\"+seasonImgsArray[++i]+\")\"\r\n            }).animate({opacity: '1'},1000*speed/3);\r\n        });\r\n\r\n    },1000*speed);\r\n\r\n}"]}